# 데이터 모델링 및 설계

 ## 모델링 
   - 현실 세계의 정보들을 컴퓨터가 표현 할 수 있는 방법으로 단순화, 추상화한 개념적 모형
   - 특징     
     - **추상화** : 모형화/가설적, 현실세계를 일정한 형식에 맞추어 표현    
     - **단순화** : 복잡한 현실세계를 제한된 표기법이나 언어로 표현하여 쉽게 이해 할 수 있도록    
     - **명확화** : 대상에 대한 애매모호함을 제거하여 정확하게 현상을 기술    
#
## 데이터 모델링
  - 현실 세계의 데이터 구조를 컴퓨터 세계의 데이터 구조로 기술하는 개념적 도구 
  - 데이터베이스의 구조를 묘사하기 위해 사용되는 개념들의 집합 
  - 단순화, 추상화를 제공하기 위해 사용 
#  
  ### 종류  
   - **개념적 모델링** 
      - 추상화 수준이 높은, 업무 중심적이고 포괄적인 수준의 모델링 진행 
	  - 속성과 개체 간의 관계를 이용하여 표현
	  - E-R 다이어그램 작성 / 개체와 속성을 추출하여 관계 형성 
	  
   - **논리적 모델링** 
      - 개념적 모델링에서 추출하지 않은 상세 속성들을 모두 추출
      - 식별 / 비식별 관계 
      - IE 표기법 
      
   - **물리적 모델링** 
      - 실질적으로 DB에 저장 할 수 있는 물리적 구조를 만드는 과정 
 
#
 ### 생명주기    
   - 데이터베이스의 생성과 운영에 관련된 특징 
 
   #### 구성 
   - **요구조건 수집 및 분석** 
       · 사용자들의 요구사항을 듣고 분석하여 데이터베이스 구축 범위를 정함
       
   - **설계** 
       · 분석된 요구사항을 기초로 주요 개념과 업무 프로세스 등을 식별 (**개념적 설계**) → **ER 다이어그램 도출   
       · 사용하는 DBMS의 종류에 맞게 변환 (**논리적 설계**) → **관계 스키마 모델** 도출   
       · 데이터베이스 스키마를 도출 (**물리적 설계**) → **관계 스키마** 도출**
       
           ** 데이터베이스 설계 단계
	       : 요구 분석 > 개념적 설계 > 논리적 설계 > 물리적 설계 > 구현 
       
   - **구현**   
       · 설계 단계에서 생성한 스키마를 실제 DBMS에 적용하여 테이블 및 관련 객체를 생성 (뷰 OR 인덱스)
       
   - **운영**    
       · 구현된  기반으로 소프트웨어를 구축하여 서비스 제공 
       
   - **감시 및 개선**
       · 데이터베이스 자체의 문제점을 파악하여 개선 
   
#   
### ER 모델
 - 세상의 모든 사물을 **개체(Entity)**와 개체 간의 **관계(Relationship)**으로 표현
 - **ER 다이어그램** 
   - ER 모델로 만든 다이어그램 
   - 개체는 **ㅁ** , 개체의 속성은 **ㅇ** ,  개체 사이의 관계는 **◇**로 표현

#
### 개체 
  - 독립적인 의미를 지니고 있는 유무형의 사람 또는 사물 
  - 개체의 특성을 나타내는 **속성(Attribute)**에 의해 식별 됨
  
  #### 구성요소 
   - 개체 인스턴스 : 낱개로 구성된 것으로 각각의 데이터 값을 가짐 
   - 개체 타입 : 데이터들이 가진 공통의 속성
   - 개체 집합 : 여러개의 개체가 모여 있는 것 
   
  #### 속성 
   - 개체가 가진 성질 
   - 기본적으로 타원으로 표현 
   - 개체 타입을 나타내는 직사각형과 실선으로 연결 됨 
   - 속성이 개체를 **유일하게 식별 할 수 있는 키**일 경우 속성 이름에 **밑줄** 
  
  #### 관계 
   - 개체 사이의 연관성을 나타내는 개념 
   - 관계 타입 : 개체 타입과 개체 타입 간의 연결 가능한 관계 정의 
   - 관계 집합 : 관계로 연결된 집합
   
   - 관계 대응수 
     · 일대일 관계 : 하나의 개체가 하나의 개체에 대응 
     · 일다대 관계 : 하나의 개체가 여러 개체에 대응 
     · 다대일 관계 : 여러 개체가 하나의 개체에 대응 
     · 다대다 관계 : 여러 개체가 여러 개체에 대응 
   
   
#
### 정규화

<함수 종속> 
   X → Y 
   
   - 완전 함수 종속 : 기본키 요소에 모두 종속되어 있고, 일부에는 종속 관계가 없는 것 
   - 부분 함수 종속 : 기본키 중 일부에만 종속적인 관계 
   - 이행정 함수 종속 : X → Y, Y → Z 이면 X → Z 
   
   
<이상> Anomaly 
 - 릴레이션 조작 시 발생하는 예상치 못한 곤란한 현상 
 - 원인 
   → 속성 간 여러 종속 관계를 하나의 릴레이션에 표현하기 때문에 
   → 종속 관계에 대해 정규화가 실행되지 않아서 
 - 종류 
   → 삽입 이상   
   → 삭제 이상
   → 갱신 이상 
 - 해결 : 속성간 종속성을 분석하여 하나의 릴레이션에는 하나의 종속성이 표현되도록 분해
        → 스키마 변환 
          - 정보의 무 손실 
          - 데이터 중복성 최소
          - 분리의 원칙 → 정규화 

<정규화>
 - 관계형 DB 설계에서 중복을 최소화 하게 데이터를 구조화 하는 프로세스 
 - 논리적 설계 단계에서 수행 
 - 목적 
   → 이상현상 제거 
 - 원칙 정보의 무손실 / 데이터 중복성 감소 / 분리의 원칙


 
<정규화 과정>
 1) 제 1정규형 
    
    하나의 컬럼에는 하나의 원자값만 있어야 한다.
    반복 되는 그룹이 없다.	
    모든 테이블은 기본키가 있어야 한다.	  
	
	
	부분 함수 종속이 존재하면 이상 현상 발생 → 부분 함수 종속을 제거해야 함 
	
	
 2) 제 2 정규형 
    
    기본키에 부분 함수 종속이 존재하면 안된다.
    프로젝션 > 쪼갬     조인 > 합침

    이행적 함수 종속이 발생하므로 이상 현상 발생 → 이행적 함수 종속 제거 	
   

 3) 제 3 정규형 
 
    기본키가 아닌 것에 종속적인 관계가 있으면 안된다. (기본키에만 의존 해야 함)
	
	결정자이나 후보키가 아니므로 이상 현상 발생 

 4) BCNF 정규형 
    
    보이스 코드 정규형 
    강한 제 3 정규형
   
 5) 제 4 정규형
     
	다치 종속관계가 존재하지 않아야 함 
	
 6) 제 5 정규형	
	

 7) 역 정규화 
   - 정규화 한 것을 다시 합치는 것 
     · 릴레이션 역정규화
     · 속성 역정규화 








  
